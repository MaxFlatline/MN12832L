#include "cmsis_os2.h"                          // CMSIS RTOS header file
#include "appSimplePic.h"                     // Application header file
/*----------------------------------------------------------------------------
 *      Thread 1 'Thread_Name': Sample thread
 *---------------------------------------------------------------------------*/
 
uint8_t VFD_RowData_DEF[21] [24];
uint8_t VFD_RowData_ABC[21] [24];
// const uint16_t image_size PROGMEM = 512;
const uint8_t image[512] = {
  0b11111000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00011111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b11100000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b11000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000001, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b10000000, 0b01110011, 0b11111111, 0b10000011, 0b11111111, 0b11110001, 0b11111110, 0b00000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000001, 0b11110011, 0b11111111, 0b10001100, 0b11111111, 0b11000111, 0b11111111, 0b00000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000001, 0b11110011, 0b11111111, 0b10001111, 0b11001110, 0b00011111, 0b11111000, 0b01000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111111, 0b10001111, 0b11001100, 0b01111111, 0b11100000, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000000, 0b00000011, 0b11111111, 0b10001111, 0b11000001, 0b11111111, 0b10001110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111111, 0b10001111, 0b11000111, 0b11111110, 0b00001110, 0b00000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000001, 0b11110011, 0b11111111, 0b10001111, 0b00011111, 0b11111000, 0b11101110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000001, 0b11110011, 0b11111111, 0b10001100, 0b01111111, 0b11100001, 0b11101110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111111, 0b10000001, 0b11111111, 0b10001001, 0b11101110, 0b01000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000000, 0b00000011, 0b11111111, 0b10000111, 0b11111110, 0b00111001, 0b11101110, 0b01000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111110, 0b00111111, 0b11111000, 0b11100000, 0b00000000, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111000, 0b11111111, 0b11100000, 0b00011111, 0b11111110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11100011, 0b11111111, 0b10001111, 0b11111111, 0b11111111, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11110001, 0b11111111, 0b10001111, 0b11111111, 0b11111111, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111100, 0b01111111, 0b11100000, 0b00011111, 0b11111110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000001, 0b11110011, 0b11111111, 0b00011111, 0b11111000, 0b11100000, 0b00000000, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000001, 0b11110011, 0b11111111, 0b10000111, 0b11111110, 0b00011001, 0b11101110, 0b01000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111111, 0b10000001, 0b11111111, 0b11000001, 0b11101110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000000, 0b00000011, 0b11111111, 0b10001100, 0b01111111, 0b11110001, 0b11101110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111111, 0b10001111, 0b00001111, 0b11111100, 0b01101110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000000, 0b00000011, 0b11111111, 0b10001111, 0b11000011, 0b11111111, 0b00001110, 0b00000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111111, 0b10001111, 0b11001000, 0b11111111, 0b11000110, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000011, 0b11110011, 0b11111111, 0b10001111, 0b11001110, 0b00111111, 0b11110000, 0b11000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000001, 0b11110011, 0b11111111, 0b10001110, 0b00000000, 0b00001111, 0b11111100, 0b00000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b00000000, 0b11110011, 0b11111111, 0b10001001, 0b11111111, 0b11100011, 0b11111111, 0b00000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b10000000, 0b00010011, 0b11111111, 0b10000011, 0b11111111, 0b11111000, 0b11111100, 0b00000000, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b11000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000011, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b11110000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
  0b11111110, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00000000, 0b00011111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111, 0b11111111,
};

osThreadId_t tid_Thread;                        // thread id
 
void Thread (void *argument);                   // thread function

int Init_Thread (void) {
 
  tid_Thread = osThreadNew(Thread, NULL, NULL);
  if (tid_Thread == NULL) {
    return(-1);
  }
 
  return(0);
}
 
void Thread (void *argument) {

    uint16_t Temp;
    uint8_t VFD_Grids [6] = {0,0,0,0,0,0};
    
    
    
    for (size_t i = 0; i < 16; i++){
        for (size_t j = 0; j < 6; j++){
            VFD_RowData_ABC[i]
        }
    }
    
    
    while (1) {
        
        VFD_Grids[0] = 0x03;
        //First Send 0th
        
        for(size_t i = 0; i < 40; i++)
        {
            Temp = (((uint16_t)VFD_Grids[i/8 + 1]) << 8) | ((uint16_t)(VFD_Grids[i/8]));
            
            Temp = Temp << 1;
            VFD_Grids[i/8      ] = (uint8_t)  Temp;
            
            VFD_Grids[i/8 + 1] = (uint8_t) (Temp >> 8);
            
            //Cycle Send 1-40th
        }
        
        VFD_Grids[5] = VFD_Grids[5] << 1;
        // 41th Send
        VFD_Grids[5] = 0x0C;
        // 42th Send
        VFD_Grids[5] = 0x00;
        
        
        osThreadYield();                            // suspend thread
    }
}
